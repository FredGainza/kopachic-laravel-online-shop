var t,n=(require("@chartisan/chartisan")),a=(t=require("chart.js"))&&"object"==typeof t&&"default"in t?t.default:t;function o(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function e(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,o)}return a}function i(t){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?e(Object(a),!0).forEach(function(n){o(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function r(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}var s=function(t){function a(){return t.apply(this,arguments)||this}r(a,t);var o=a.prototype;return o.colors=function(t){return void 0===t&&(t=n.colorPalette),this.custom(function(n){var a,o=n.data;return(null===(a=o.data)||void 0===a?void 0:a.datasets)&&(o.data.datasets=o.data.datasets.map(function(n,a){return i(i({},n),{},{backgroundColor:t[a%t.length]})})),o})},o.borderColors=function(t){return void 0===t&&(t=n.colorPalette),this.custom(function(n){var a,o=n.data;return(null===(a=o.data)||void 0===a?void 0:a.datasets)&&(o.data.datasets=o.data.datasets.map(function(n,a){return i(i({},n),{},{borderColor:t[a%t.length]})})),o})},o.pieColors=function(t){return void 0===t&&(t=n.colorPalette),this.custom(function(n){var a,o=n.data;return(null===(a=o.data)||void 0===a?void 0:a.datasets)&&(o.data.datasets=o.data.datasets.map(function(n,a,o){var e,r,s=new Array(null!==(e=null===(r=n.data)||void 0===r?void 0:r.length)&&void 0!==e?e:null==o?void 0:o.length).fill("");return i(i({},n),{},{backgroundColor:s.map(function(n,a){return t[a%t.length]})})})),o})},o.pieBorderColors=function(t){return void 0===t&&(t=n.colorPalette),this.custom(function(n){var a,o=n.data;return(null===(a=o.data)||void 0===a?void 0:a.datasets)&&(o.data.datasets=o.data.datasets.map(function(n,a,o){var e,r,s=new Array(null!==(e=null===(r=n.data)||void 0===r?void 0:r.length)&&void 0!==e?e:null==o?void 0:o.length).fill("");return i(i({},n),{},{borderColor:s.map(function(n,a){return t[a%t.length]})})})),o})},o.responsive=function(t){return void 0===t&&(t=!0),this.options({options:{maintainAspectRatio:!t}})},o.legend=function(t){return void 0===t&&(t={}),"boolean"==typeof t&&(t={display:t}),this.options({options:{legend:t}})},o.displayAxes=function(t,n){return void 0===t&&(t=!0),void 0===n&&(n=!1),this.options(n?{options:{scale:{display:t}}}:{options:{scales:{xAxes:[{display:t}],yAxes:[{display:t}]}}})},o.minimalist=function(t){return void 0===t&&(t=!0),this.legend({display:!t}),this.displayAxes(!t)},o.padding=function(t){return void 0===t&&(t=5),this.options({options:{layout:{padding:t}}})},o.datasets=function(t,n){return void 0===n&&(n="bar"),this.custom(function(a){var o,e=a.data;if(e.type="string"==typeof t?t:n,Array.isArray(t)&&(null===(o=e.data)||void 0===o?void 0:o.datasets)){var r=t.map(function(t){return"string"==typeof t?{type:t}:t});e.data.datasets=e.data.datasets.map(function(t,n){return i(i({},t),r[n%r.length])})}return e})},o.title=function(t){return void 0===t&&(t={}),this.options({options:{title:"string"==typeof t?{text:t,display:!0}:i({display:!0},t)}})},o.beginAtZero=function(t,n){var a;return void 0===t&&(t=!0),void 0===n&&(n="y"),this.options({options:{scales:(a={},a[n+"Axes"]=[{ticks:{beginAtZero:t}}],a)}})},o.precision=function(t,n){var a;return void 0===n&&(n="y"),this.options({options:{scales:(a={},a[n+"Axes"]=[{ticks:{precision:t}}],a)}})},o.stepSize=function(t,n){var a;return void 0===n&&(n="y"),this.options({options:{scales:(a={},a[n+"Axes"]=[{ticks:{stepSize:t}}],a)}})},o.tooltip=function(t){return"boolean"==typeof t&&(t={enabled:t}),this.options({options:{tooltips:t}})},o.legendCallback=function(t){return this.options({options:{legendCallback:t}})},o.animation=function(t){return this.options({options:{animation:t}})},a}(n.Hooks),d=function(t){function n(){return t.apply(this,arguments)||this}r(n,t),n.mutateArray=function(t,n,a){var o;for(o=0;o<n.length;o++)if(o<t.length){if(a){a(t,n,o);continue}t[o]=n[o]}else t.push(n[o]);for(;o<t.length;)t.pop()};var o=n.prototype;return o.formatData=function(t){return{type:"bar",data:{labels:t.chart.labels,datasets:t.datasets.map(function(t){return{label:t.name,data:t.values}})},options:{}}},o.renewCanvas=function(){this.canvas&&this.body.removeChild(this.canvas),this.canvas=document.createElement("canvas"),this.canvas.style.width="100%",this.canvas.style.height="100%",this.body.appendChild(this.canvas)},o.onUpdate=function(t){this.chart&&this.chart.destroy(),this.renewCanvas(),this.chart=new a(this.canvas,t)},o.onBackgroundUpdate=function(t,a){var o,e;this.chart?(this.chart.options=i(i({},this.chart.options),t.options),this.chart.data.labels&&(null===(o=t.data)||void 0===o?void 0:o.labels)&&n.mutateArray(this.chart.data.labels,t.data.labels),this.chart.data.datasets&&(null===(e=t.data)||void 0===e?void 0:e.datasets)&&n.mutateArray(this.chart.data.datasets,t.data.datasets,function(t,a,o){n.mutateArray(t[o].data,a[o].data)}),this.chart.update(a)):this.onUpdate(t)},o.onDestroy=function(){this.chart&&this.chart.destroy()},o.toImage=function(){var t;return null===(t=this.chart)||void 0===t?void 0:t.toBase64Image()},o.legend=function(){var t,n;return null!==(t=null===(n=this.chart)||void 0===n?void 0:n.generateLegend())&&void 0!==t?t:void 0},n}(n.Chartisan);"undefined"!=typeof window&&(window.Chartisan=d,window.ChartisanHooks=s),exports.Chartisan=d,exports.ChartisanHooks=s;
//# sourceMappingURL=chartisan_chartjs.js.map
